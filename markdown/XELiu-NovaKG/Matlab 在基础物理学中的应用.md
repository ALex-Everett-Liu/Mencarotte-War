- 北京师范大学物理系 2004.10 -- 贾砚宾 管靖 编
- Contents
    - §1 [[Matlab]] 使用介绍
    - §2 Matlab 能做什么
        - (1) 绘制简谐振动的振动曲线
            - [[simple harmonic vibration]] 运动学方程 $$x=A \sin (\omega t+\varphi)$$
        - (2) [等量异号点电荷]的[电势分布] p6
            - Oxy plane, $$U=\frac{q}{4 \pi \varepsilon_{0} r}$$
            - [x,y]=[[meshgrid]](-5:0.2:5,-4:0.2:4);
        - (3) Logistic 叠代图 - 非线性叠代方程 - $$x_{n+1}=\lambda x_{n}\left(1-x_{n}\right)$$
            - x0=abs(sin(randn)); %取[0, 1]间的随机数
210625-07:15
            - [[hold on]] %作图控制, 保持已画出的图
    - §3 数据表示 运算符和表达式
        - ③ 连续点“…” -- 如果一条命令很长，一行容不下，可以用 3 个点[加在一行的末尾]，表示[此行未完]，而在下一行继续. 
    - §4 矩阵与数组
        - （一）定义矩阵 p12
        - （四）数组与数组运算 -- >> A.*B
    - §5 编程
        - （二）脚本文件（也称命令文件）与函数文件
            - 函数文件主要用以解决[参量传递]和[函数调用]的问题，它的第一句以 function 语句[为引导].
                - 而函数文件中[所有变量][除特殊声明外]，均为 局部变量，即[只在调用函数时存在]，一旦[函数调用结束]，这些变量[立即被清除].
                - function f=logistic(lamda,N)
        - （三）流程控制语句 p18
            - 例 3：利用 [for 循环]求 1!+2!+3!+…+20!的值. （lt53.m）
                - sum=0; %先将[所求的值][预定义为零]
            - [循环的嵌套]类似于[时钟的运行]，[外层循环变量] i 是时针，[内层循环变量] k 是[分针]，当分针 k [完成一轮循环]时，时针 i [只完成了一步循环].
210625-08:35
    - §6 [普通物理学]中[常用的几种计算]
        - (1) 解一元函数方程
            - x=fzero(fun,x,options,p1,p2,…)
[x,fval]=fzero(…)
                - [没有零点]则[返回 NaN].
fval -- 零点对应的函数值（由于[数值解法][有一定的精确度]，所以往往[零点对应的函数值][不是恰好为零]，而是[一个小量]）.
                - 如果是[猜测值]，则 fzero [将寻找一个]包含 x0，同时[函数值符号发生改变的区间]，[如果寻找中遇到了] Inf，NaN 或复数，则寻找终止.
            - 所以[想要找到][函数的所有零点]，[最好使用][函数绘图语句] fplot( )，[结合图像][判断搜寻范围].
        - (2) 解线性方程组 - $$A x=b$$
            - 使用[矩阵左除]的方法，即使用[程序式] x=A\b.
        - （二）差分、梯度、积分 p22
            - (1) dy/dx -- diff(y)./diff(x) -- diff(x)=[x(2)-x(1);x(3)-x(2);…;x(n)-x(n-1)]
                - 例 3：求 在[-π,π]上的导数.（lt63.m）
                    - x(length(x)-1)=[]; %将 x 的[最后一个元素][去掉] (由于 diff 计算[数组元素]间的差分，[输出的数组]比[原数组][少了一个元素].)
plot(x,dy, 'r.') %绘制 x 和 dy 的[函数关系]，即[导函数曲线]
                    - 如果自变量[取值间隔]太大，用[有限差分近似][计算微分][会导致很差的结果].
            - (2) [fx,fy,fz]=gradient(f,hx,hy,hz)
                - 例 4：对§2 中的“等量异号点电荷电场中电势分布”的[示例]，求出[沿x,y方向][电势的梯度]，[并画出][等势面]和[各点上][电场的大小和方向].
                    - [[contour]] 是[绘制等高线]的函数，以 z 为对象，[则绘出的就是][等势线].
                    - [[quiver]] 是[绘制][点[x,y]处的]矢量[px,py]，即画出[各点]电场的大小和方向.
            - (3) quad, quad8 函数积分
                - 其中 quad 基于[自适应辛普生算法]，属[低阶方法]；quad8 基于[自适应柯特法]，属[高阶方法]，精度较高.
                - q=quad(‘fun’,a,b,tol,trace,p1,p2,…)
                - 例 5：质点[匀变速直线运动]，满足 $$v=v_{0}+a t, v_{0}=0.1, a=1$$, 求在 10s 内[质点][走过的路程].
210625-16:57
        - （三）解常微分方程
            - 例 6：质点[在万有引力作用下]的运动. 
                - 以万有引力的[固定不动的施力质点] m_0 [所在位置]为[坐标原点] O, 建立直角坐标系 Oxy，质点的[运动微分方程]为 $$m \ddot{\vec{r}}=-\frac{G m m_{0}}{r^{3}} \vec{r}$$，[分量方程]为：
$$\ddot{x}=-\frac{G m_{0}}{x^{2}+y^{2}} \frac{x}{\left(x^{2}+y^{2}\right)^{1 / 2}}, \quad \ddot{y}=-\frac{G m_{0}}{x^{2}+y^{2}} \frac{y}{\left(x^{2}+y^{2}\right)^{1 / 2}}$$
                - 定义[解矢量]为 y，令 $$y(1)=x, \quad y(2)=\dot{x}, \quad y(3)=y, \quad y(4)=\dot{y}$$
                - ```python
p=-1; %取Gm 0 =1
y0=[-10 0.2 6 0.2;-25 0.5 5 0;-25 0.8 6 0]; %三组不同的初始条件
plot(0,0,'*r') %画出 O 点
for i=1:3 %分别以不同初始条件解 3 次方程
	[t,y]=ode45('yxlcfun',[0:0.1:300],y0(i,:),[ ],p);
    hold on
	axis([-25 25 -20 20]); %指定坐标范围
	comet(y(:,1),y(:,3)) %绘出质点运动轨迹(x,y)
end %结束循环
```
    - §7 作图和动画
        - （一）Matlab 的图形窗口 p28
